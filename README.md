# Проектная работа 10 спринта

### Примеры запросов для API:  
**Отправитель**: auth  
**Тип источника сообщения**: email   
**Тип события**: приветственное письмо  
```json
{
  "service": "auth",
  "channel": "email",
  "type": "welcome_letter",
  "payload": {
    "user_id": "ad0ec496-8c65-42c5-8fa7-3cf17bdaca7f",
    "name": "alice",
    "contact": "alice@email.com"
  }
}
```

### Рассылка уведомлений

Для управления периодическими задачами используется Celery, которое 
подключается к админке в Django.

Сделано API на FastAPI для добавления задач в очередь на исполнение в Celery.

Админка и Scheduler разделены на разные контейнеры и чтоб это работало проект админки пробрасывается
в контейнер с Celery. 

Scheduler напрямую кладет задачу в Worker, минуя API, сделано для оптимизации, 
но с пониманием, что идем в обход интерфейса. 

В контейнере worker запускается worker Celery для исполнения задач.

### Worker

здесь описание архитектуры воркера и что они куда-то зачем-то ходят